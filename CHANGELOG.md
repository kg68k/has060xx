# 変更履歴

## 1.2.5 (2026-01-08)

* `.cpu 68020`のときエラッタF6の対策が有効にならない不具合を修正。
* コマンドラインスイッチ`-x`でファイル名を指定すると、ファイルのクローズ時に指定する
  ファイルハンドルが正しくない不具合を修正。


## 1.2.4 (2025-12-24)

* リストファイルに`.title`で指定したタイトルが出力されないエンバグを修正。
* リストファイルのタイトル行の直後の空行を0行または2行から、1行に変更。


## 1.2.3 (2025-12-01)

* コマンドラインスイッチ`-call`の指定時に命令が展開されないことがある不具合を修正。
* コマンドラインスイッチ`-c<mnemonic>`がエラー等になるエンバグを修正。


## 1.2.2 (2025-11-27)

* コマンドラインスイッチ`-y`と`-p`を同時に指定するとバスエラーが発生する不具合を修正。
* コマンドラインスイッチ`-y`と`-8`を同時に指定すると、`__HAS060`がHAS060X.Xの
  バージョンになってしまう不具合を修正。


## 1.2.1 (2025-11-23)

* 同じ名称の命令や疑似命令がないマクロを定義し、マクロ名の先頭に`.`をつけて
  呼び出そうとすると「命令が解釈できません」のエラーになることがある不具合を修正。


## 1.2.0 (2025-03-07)

* `CLR An`を`SUBA An,An`命令の別名として扱わず、エラー(指定できないアドレッシング)
  となるように変更。`CLR.W An`が`MOVEA.W #0,An`と等価ではなく紛らわしいため。
* `.comment`疑似命令でコメント終端が見つからないままファイルが終了すると存在しない行の
  アセンブルエラーが発生する不具合を修正。
* ハイメモリ確保前に060turbo.sysの存在確認をしないようにした。
* `.dcb`疑似命令の長さの上限を$01000000に変更。
* リストファイル出力において、`.dcb`疑似命令の count= ...bytes を bytes= ... に変更。


## 1.1.0 (2024-01-01)

* 256バイト以上の文字列リテラルに対応。


## 1.0.1 (2023-11-24)

* `-f0`オプション指定時にリストファイルにタイトルを出力するようにした。


## 1.0.0 (2023-09-20)

新機能
* HUPAIRに対応。
* プレデファインシンボル`__HAS060X__`を追加(`-y1`オプション指定時のみ有効)。
* 複数のファイル名が指定された時のエラーメッセージを追加。
* ローカルラベルの桁数が多すぎる時のエラーメッセージを追加。
* `MOVEM`命令のレジスタリストを即値形式でも記述できるようにした。
* 実行ファイル名の先頭を'g2as'(大文字小文字区別なし)にするとg2asモードで動作する。
  * 環境変数HASではなくG2ASを参照する。
  * `-1 -c4`オプションが自動指定される。

仕様変更
* 環境変数の先頭に'*'がなくても'/'をファイル名の指定として扱う。
* 1行の最大バイト数を8KBに増加。
* テンポラリファイルを`DOS _MAKETMP`で作成するようにした。

